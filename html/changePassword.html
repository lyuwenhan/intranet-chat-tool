<!--
  Project: Intranet Chat Tool
  Copyright (C) 2025 lyuwenhan

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Login</title>
	<link rel="stylesheet" href="/lib/codemirror.css">
	<script src="/lib/codemirror.js"></script>
	<script src="/lib/forge.js"></script>
	<script src="/lib/uuid.js"></script>
	<script src="/lib/common.js" defer></script>
	<link rel="stylesheet" href="/lib/login.css">
	<link rel="stylesheet" href="/lib/common.css">
	<link rel="stylesheet" href="/lib/mobile.css" media="only screen and (max-width: 768px)">
</head>

<body>
	<div class="nav">
		<nav class="no-select show0-mb" style="font-size: medium;">
			<span class="unshow1-mb" style="line-height: 1em;font-size: 0; display: flex;">
				<svg class="mob-only" style="width:52px; height: 52px; padding: 4px;" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill="#B9F3FB">
					<rect x="20" y="25" width="60" height="8" rx="4"/>
					<rect x="20" y="46" width="60" height="8" rx="4"/>
					<rect x="20" y="67" width="60" height="8" rx="4"/>
				</svg>
			</span>
			<a class="show1-mb mob-only" style="line-height: 1em;font-size: 0;"><img src="favicon.png" style="width:52px; height: 52px; padding: 4px;"></a>
			<a class="unshow-mb" href="/" style="line-height: 1em;font-size: 0;"><img src="favicon.png" style="width:52px; height: 52px; padding: 4px;"></a>
			<ul class="show1-mb">
				<li><a href="/"><span>Home</span></a></li>
				<li><a href="/fileManage"><span>Files</span></a></li>
				<li><a href="/manage" id="bt-manage" hidden><span>Manage</span></a></li>
			</ul>
			<ul class="pos-right show1-mb">
				<li>
					<span>
						username:&nbsp;<span id="username"></span>
					</span>
					<ul>
						<li id="login" hidden>
							<span class="can-click"><a class="bt-white" href="/login">Login</a></span>
						</li>
						<li id="sign_up" hidden>
							<span class="can-click"><a class="bt-white" href="/register">Sign up</a></span>
						</li>
						<li id="changePwd" hidden>
							<span class="can-click"><a class="bt-white" href="/changePassword">Change password</a></span>
						</li>
						<li id="logout" hidden>
							<span class="can-click" onclick="logout()">Logout</span>
						</li>
					</ul>
				</li>
			</ul>
		</nav>
	</div>
	<div class="mobtop"></div>
	<div class="moball"></div>
	<div class="main">
		<h2>Change Password</h2>
		<form id="change-password-form">
			<input type="text" id="username" name="username" autocomplete="username" placeholder="Username" required><br><br>
			<input type="password" id="current-password" name="current-password" autocomplete="current-password" placeholder="Current Password" required><br><br>
			<input type="password" id="new-password" name="new-password" autocomplete="new-password" placeholder="New Password" required><br><br>
			<input type="password" id="confirm-password" name="confirm-password" autocomplete="new-password" placeholder="Confirm New Password" required><br><br>
			<a>Password should be at least 8 characters.</a><br><br>
			<input type="text" name="captcha" autocomplete="off" placeholder="Captcha" required><br>
			<img id="captcha-img" class="can-click" title="click to refresh"><br>
			<button type="submit">Change Password</button>
		</form>
		<a class="ban" id="error-message"></a>
	</div>
	<img src="/get.svg" id="get-cnt" onerror="this.onerror=null; this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22125%22 height=%2220%22%3E%3Crect x=%220%22 y=%220%22 width=%22125%22 height=%2220%22 style=%22fill-opacity:1.00; fill:rgb(90,90,90);%22/%3E%3Crect x=%220%22 y=%220%22 width=%2280%22 height=%2220%22 style=%22fill-opacity:1.00; fill:rgb(49, 197, 83);%22/%3E%3Ctext x=%226%22 y=%2214%22 style=%22text-anchor:start;font-size:12px;fill:white;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;%22%3EPage Views%3C/text%3E%3Ctext x=%2286%22 y=%2214%22 style=%22text-anchor:start;font-size:12px;fill:white;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;%22%3EFailed%3C/text%3E%3C/svg%3E';" alt="访问量">
	<script src="/lib/changePwd.js" defer></script>
</body>
</html>